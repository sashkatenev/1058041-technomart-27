let buttonsBuy=document.querySelectorAll(".product-action-buy"),buttonCart=document.querySelector(".head-button-cart"),buttonsBookmark=document.querySelectorAll(".product-action-bookmark"),buttonBookmark=document.querySelector(".head-button-bookmark"),userButtonLogin=document.querySelector(".user-button-log-in"),userButtonLogout=document.querySelector(".user-button-log-out"),linkMap=document.querySelector(".contacts-map"),buttonsWriteUs=document.querySelectorAll(".write-us"),popupShoppingCart=document.querySelector(".popup-shopping-cart"),popupFeedback=document.querySelector(".popup-feedback"),popupMap=document.querySelector(".popup-map"),popupShoppingCartCloseButton=popupShoppingCart.querySelector(".popup-close-button"),continueShoppingButton=popupShoppingCart.querySelector("[id=continue_shopping]"),popupFeedbackCloseButton=null,popupMapCloseButton=null,feedbackForm=null,feedbackUserName=null,feedbackUserEmail=null,feedbackUserLetter=null,userNameText="",userEmailText="",isStorageSupport=!0,userNavigationBlocks=document.querySelectorAll(".user-navigation"),userNavigationHandler=null,formFilterLabels=document.querySelectorAll(".form-filter label"),linksCategorySorting=document.querySelectorAll(".sort-bar-byproperty a"),linksDirectionSorting=document.querySelectorAll(".sort-bar-bydirection a");var serviceSlider=document.querySelector(".service-slider");function setCloseButtonHandler(a,b){b.addEventListener("click",function(b){b.preventDefault(),a.classList.add("popup-close"),setTimeout(function(){a.classList.remove("popup-show-flex"),a.classList.remove("popup-show-block"),a.classList.remove("popup-error")},400)})}window.addEventListener("keydown",function(a){if(27===a.keyCode){a.preventDefault();let b=document.querySelectorAll(".popup-window");for(let a=0;a<b.length;a++)b[a].classList.add("popup-close"),b[a].classList.remove("popup-show-flex"),b[a].classList.remove("popup-show-block"),b[a].classList.remove("popup-error")}});for(let a=0;a<buttonsBuy.length;a++)buttonsBuy[a].onclick=function(){buttonCart.classList.add("not-empty"),popupShoppingCart.classList.remove("popup-close"),popupShoppingCart.classList.add("popup-show-flex")};setCloseButtonHandler(popupShoppingCart,popupShoppingCartCloseButton),setCloseButtonHandler(popupShoppingCart,continueShoppingButton);for(let a=0;a<buttonsWriteUs.length;a++)buttonsWriteUs[a].addEventListener("click",function(a){a.preventDefault(),popupFeedback.classList.remove("popup-close"),popupFeedback.classList.add("popup-show-flex")});try{userNameText=localStorage.getItem("user_name"),userEmailText=localStorage.getItem("user_email")}catch(a){isStorageSupport=!1}popupFeedback&&(feedbackForm=popupFeedback.querySelector("form"),feedbackUserName=popupFeedback.querySelector("[id=user_name]"),feedbackUserEmail=popupFeedback.querySelector("[id=user_email]"),feedbackUserLetter=popupFeedback.querySelector("[id=letter_text]"),feedbackUserLetter.focus(),userEmailText?feedbackUserEmail.value=userEmailText:feedbackUserEmail.focus(),userNameText?feedbackUserName.value=userNameText:feedbackUserName.focus(),feedbackForm.addEventListener("submit",function(a){feedbackUserName.value&&feedbackUserEmail.value&&feedbackUserLetter.value?isStorageSupport&&(localStorage.setItem("user_name",feedbackUserName.value),localStorage.setItem("user_email",feedbackUserEmail.value)):(a.preventDefault(),popupFeedback.classList.remove("popup-error"),popupFeedback.offsetWidth=popupFeedback.offsetWidth,popupFeedback.classList.add("popup-error"),""==feedbackUserLetter.value&&feedbackUserLetter.focus(),""==feedbackUserEmail.value&&feedbackUserEmail.focus(),""==feedbackUserName.value&&feedbackUserName.focus())}),popupFeedbackCloseButton=popupFeedback.querySelector(".popup-close-button"),setCloseButtonHandler(popupFeedback,popupFeedbackCloseButton)),linkMap&&(linkMap.addEventListener("click",function(a){a.preventDefault(),popupMap.classList.remove("popup-close"),popupMap.classList.add("popup-show-block")}),popupMapCloseButton=popupMap.querySelector(".popup-close-button"),setCloseButtonHandler(popupMap,popupMapCloseButton));for(let a=0;a<buttonsBookmark.length;a++)buttonsBookmark[a].onclick=function(){buttonBookmark.classList.add("not-empty")};if(userNavigationHandler=function(a){a.preventDefault();for(let b=0;b<userNavigationBlocks.length;b++)userNavigationBlocks[b].classList.toggle("user-navigation-hidden")},userButtonLogin.addEventListener("click",userNavigationHandler),userButtonLogout.addEventListener("click",userNavigationHandler),formFilterLabels)for(let a=0;a<formFilterLabels.length;a++)formFilterLabels[a].addEventListener("keydown",function(a){(13===a.keyCode||32===a.keyCode)&&(a.preventDefault(),this.click())});if(linksCategorySorting)for(let a=0;a<linksCategorySorting.length;a++)linksCategorySorting[a].addEventListener("click",function(a){a.preventDefault();let b=document.querySelector(".sort-bar-byproperty a.sort-property-active");b.classList.remove("sort-property-active"),b.setAttribute("href","#"),this.classList.add("sort-property-active"),this.removeAttribute("href")});if(linksDirectionSorting)for(let a=0;a<linksDirectionSorting.length;a++)linksDirectionSorting[a].addEventListener("click",function(a){a.preventDefault();let b=document.querySelector(".sort-bar-bydirection a.sort-direction-active");b.classList.remove("sort-direction-active"),b.setAttribute("href","#"),this.classList.add("sort-direction-active"),this.removeAttribute("href")});if(serviceSlider){let a=serviceSlider.querySelectorAll(".service-slider-item");for(let b=0;b<a.length;b++)a[b].setAttribute("data-number",b);let b=serviceSlider.querySelectorAll(".service-slider-controls p");for(let a=0;a<b.length;a++)b[a].setAttribute("data-number",a),b[a].addEventListener("click",function(){let a=serviceSlider.querySelector(".service-slider-controls .name-item-active");a.removeAttribute("class"),this.classList.add("name-item-active");let b=serviceSlider.querySelector(".slider-item-active");b.classList.remove("slider-item-active"),serviceSlider.querySelector(".service-slider-item[data-number='"+this.dataset.number+"']").classList.add("slider-item-active")}),b[a].addEventListener("keydown",function(a){(13===a.keyCode||32===a.keyCode)&&(a.preventDefault(),this.click())})}